import{r as a,j as u,a as _}from"./main-BBOX9mF1.js";import{u as A,a as w,c as G,P as y,b as K,d as S,e as X,f as $,C as V}from"./index-CJmV3ZSH.js";function J(e,t){return a.useReducer((n,o)=>t[n][o]??n,e)}var O=e=>{const{present:t,children:n}=e,o=Q(t),s=typeof n=="function"?n({present:o.isPresent}):a.Children.only(n),r=A(o.ref,Y(s));return typeof n=="function"||o.isPresent?a.cloneElement(s,{ref:r}):null};O.displayName="Presence";function Q(e){const[t,n]=a.useState(),o=a.useRef(null),s=a.useRef(e),r=a.useRef("none"),k=e?"mounted":"unmounted",[b,i]=J(k,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const c=N(o.current);r.current=b==="mounted"?c:"none"},[b]),w(()=>{const c=o.current,f=s.current;if(f!==e){const l=r.current,m=N(c);e?i("MOUNT"):m==="none"||c?.display==="none"?i("UNMOUNT"):i(f&&l!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,i]),w(()=>{if(t){let c;const f=t.ownerDocument.defaultView??window,d=m=>{const C=N(o.current).includes(CSS.escape(m.animationName));if(m.target===t&&C&&(i("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",c=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},l=m=>{m.target===t&&(r.current=N(o.current))};return t.addEventListener("animationstart",l),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(c),t.removeEventListener("animationstart",l),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else i("ANIMATION_END")},[t,i]),{isPresent:["mounted","unmountSuspended"].includes(b),ref:a.useCallback(c=>{o.current=c?getComputedStyle(c):null,n(c)},[])}}function N(e){return e?.animationName||"none"}function Y(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var E="Checkbox",[Z]=G(E),[ee,I]=Z(E);function te(e){const{__scopeCheckbox:t,checked:n,children:o,defaultChecked:s,disabled:r,form:k,name:b,onCheckedChange:i,required:c,value:f="on",internal_do_not_use_render:d}=e,[l,m]=K({prop:n,defaultProp:s??!1,onChange:i,caller:E}),[x,C]=a.useState(null),[v,p]=a.useState(null),h=a.useRef(!1),R=x?!!k||!!x.closest("form"):!0,P={checked:l,disabled:r,setChecked:m,control:x,setControl:C,name:b,form:k,value:f,hasConsumerStoppedPropagationRef:h,required:c,defaultChecked:g(s)?!1:s,isFormControl:R,bubbleInput:v,setBubbleInput:p};return u.jsx(ee,{scope:t,...P,children:ne(d)?d(P):o})}var T="CheckboxTrigger",j=a.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...o},s)=>{const{control:r,value:k,disabled:b,checked:i,required:c,setControl:f,setChecked:d,hasConsumerStoppedPropagationRef:l,isFormControl:m,bubbleInput:x}=I(T,e),C=A(s,f),v=a.useRef(i);return a.useEffect(()=>{const p=r?.form;if(p){const h=()=>d(v.current);return p.addEventListener("reset",h),()=>p.removeEventListener("reset",h)}},[r,d]),u.jsx(y.button,{type:"button",role:"checkbox","aria-checked":g(i)?"mixed":i,"aria-required":c,"data-state":W(i),"data-disabled":b?"":void 0,disabled:b,value:k,...o,ref:C,onKeyDown:S(t,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:S(n,p=>{d(h=>g(h)?!0:!h),x&&m&&(l.current=p.isPropagationStopped(),l.current||p.stopPropagation())})})});j.displayName=T;var L=a.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:o,checked:s,defaultChecked:r,required:k,disabled:b,value:i,onCheckedChange:c,form:f,...d}=e;return u.jsx(te,{__scopeCheckbox:n,checked:s,defaultChecked:r,disabled:b,required:k,onCheckedChange:c,name:o,form:f,value:i,internal_do_not_use_render:({isFormControl:l})=>u.jsxs(u.Fragment,{children:[u.jsx(j,{...d,ref:t,__scopeCheckbox:n}),l&&u.jsx(B,{__scopeCheckbox:n})]})})});L.displayName=E;var D="CheckboxIndicator",U=a.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:o,...s}=e,r=I(D,n);return u.jsx(O,{present:o||g(r.checked)||r.checked===!0,children:u.jsx(y.span,{"data-state":W(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});U.displayName=D;var F="CheckboxBubbleInput",B=a.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:o,hasConsumerStoppedPropagationRef:s,checked:r,defaultChecked:k,required:b,disabled:i,name:c,value:f,form:d,bubbleInput:l,setBubbleInput:m}=I(F,e),x=A(n,m),C=X(r),v=$(o);a.useEffect(()=>{const h=l;if(!h)return;const R=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(R,"checked").set,z=!s.current;if(C!==r&&M){const H=new Event("click",{bubbles:z});h.indeterminate=g(r),M.call(h,g(r)?!1:r),h.dispatchEvent(H)}},[l,C,r,s]);const p=a.useRef(g(r)?!1:r);return u.jsx(y.input,{type:"checkbox","aria-hidden":!0,defaultChecked:k??p.current,required:b,disabled:i,name:c,value:f,form:d,...t,tabIndex:-1,ref:x,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});B.displayName=F;function ne(e){return typeof e=="function"}function g(e){return e==="indeterminate"}function W(e){return g(e)?"indeterminate":e?"checked":"unchecked"}function ie({className:e,...t}){return u.jsx(L,{"data-slot":"checkbox",className:_("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(U,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:u.jsx(V,{className:"size-3.5"})})})}var re="Label",q=a.forwardRef((e,t)=>u.jsx(y.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));q.displayName=re;var oe=q;function ce({className:e,...t}){return u.jsx(oe,{"data-slot":"label",className:_("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}export{ie as C,ce as L};
